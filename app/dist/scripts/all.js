"use strict";function ajaxCall(t,e){$.ajax({url:"/test/",dataType:"json",data:{query:t,currentPage:e},type:"POST",success:function(t){var e=$("#foods-table-body"),a=$("#totalFoodList"),n=$("#fromDb");e.empty(),a.text(t.offset+"/"+t.total);var d,o=t.result;n.text(t.fromDb);for(var r=0;r<o.length;r++)(d=$("<tr/>")).append("<td>"+o[r].name+"</td>"),d.append("<td>"+o[r].category+"</td>"),d.append("<td>"+o[r].manu+"</td>"),d.append("<td>"+o[r].ndbno+"</td>"),e.append(d)}})}$(document).ready(function(){for(var e=$(".pagination a"),a=document.getElementsByName("currentPage")[0],t=document.querySelectorAll("#foods-table-body tr"),n=0;n<e.length;n++)e[n].addEventListener("click",function(t){a.value=t.target.text;var e=document.getElementsByName("query")[0].value;$(".pagination a.active")[0].classList.remove("active"),t.target.classList.add("active"),ajaxCall(e,0<a.value?a.value-1:a)});for(var d=0;d<t.length;d++)t[d].addEventListener("click",function(){window.location.href="http://localhost:9001/test/"+t.item(n).dataset.href});$("#querySubmit").click(function(){$(".pagination a.active")[0].classList.remove("active"),e[0].classList.add("active");var t=document.getElementsByName("query")[0].value,d=$("#foods-table-body"),o=$("#totalFoodList"),r=$("#fromDb");$.ajax({url:"/test/",dataType:"json",data:{query:t,currentPage:0},type:"POST",success:function(t){d.empty(),o.text(t.offset+"/"+t.total);var e,a=t.result;r.text(t.fromDb);for(var n=0;n<a.length;n++)(e=$("<tr/>")).append("<td>"+a[n].name+"</td>"),e.append("<td>"+a[n].category+"</td>"),e.append("<td>"+a[n].manu+"</td>"),e.append("<td>"+a[n].ndbno+"</td>"),d.append(e)}})})});